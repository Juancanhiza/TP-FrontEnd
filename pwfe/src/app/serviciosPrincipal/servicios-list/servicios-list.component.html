<app-home></app-home>

<!--Container Principal-->
<div class="container m1mtop">

  <!-- Titulo -->
  <div class="row">
    <div class="col s12">
      <h3 class="center-align">Servicios</h3>
    </div>
  </div>

  <!--Filtros-->
  <section id="filtros" >
      <!--Fila 1-->
      <div class="row">
          <div class="input-field col s12 m6">
              <i class="material-icons prefix">date_range</i>
              <input type="text" id='fechaDesde' class="datepicker">
              <label for="fechaDesde">Fecha Desde</label>
          </div>
          <div class="input-field col s12 m6">
              <i class="material-icons prefix">date_range</i>
              <input type="text" id='fechaHasta' class="datepicker">
              <label for="fechaHasta">Fecha Hasta</label>
          </div>
      </div>
      <!--Fila 2-->
      <div class="row" style="margin:0;">
          <div class="input-field col s12 m6">
              <i class="material-icons prefix">person</i>
              <input type="text" id="autocomplete-input-medicos" class="autocomplete">
              <label for="autocomplete-input-medicos">Médico</label>
          </div>
          <div class="input-field col s12 m6">
              <i class="material-icons prefix">person</i>
              <input type="text" id="autocomplete-input-clientes" class="autocomplete">
              <label for="autocomplete-input-clientes">Cliente</label>
          </div>
      </div>
      <!--Fila 3-->
      <div class="row">
          <div class="input-field col s12 m8">
              <select id='selectSubcategorias'>
                  <option value="" disabled selected>Seleccione</option>
                  <option *ngFor='let i of subcategorias' value="{{i.idTipoProducto}}">{{i.idCategoria.descripcion}}, {{i.descripcion}}</option>
              </select>
              <label>Categoría, Subcategoría</label>
          </div>
      </div>
      <!--Fila 4-->
      <div class="row">
          <div class="col s12">
              <a (click)='filter()' class="waves-effect waves-light btn right disagree" style="margin:4px;"><i
                      class="material-icons left">search</i>Buscar</a>
              <a (click)='clearFilter()' class="waves-effect waves-light btn right agree" style="margin:4px;">Limpiar</a>
          </div>
      </div>
  </section>


  <section id="listado">

    <div class="row">
      <h3 class="center-align">Listado</h3>
    </div>

    <div class="col s12">
        <table class="striped">
            <colgroup>
                <col span="1" style="width: 10%;">
                <col span="1" style="width: 4%;">
                <col span="1" style="width: 8%;">
                <col span="1" style="width: 8%;">
                <col span="1" style="width: 8%;">
                <col span="1" style="width: 8%;">
                <col span="1" style="width: 8%;">
                <col span="1" style="width: 8%;">
            </colgroup>
            <thead>
                <tr>
                    <th class="hide-on-small-and-down">Fecha</th>
                    <th>Id ficha</th>
                    <th>Profesional</th>
                    <th>Cliente</th>
                    <th class="hide-on-small-and-down">Categoría</th>
                    <th class="hide-on-small-and-down">Subcategoría</th>
                    <th>Acciones</th>
                </tr>
            </thead>

            <tbody>

                <tr *ngFor="let i of datos ; index as j">
                    <td class="hide-on-small-and-down">{{ i.fechaHora }}</td>
                    <td class="center-align">{{ i.idFichaClinica.idFichaClinica }}</td>
                    <td>{{ i.idEmpleado?.nombre }} {{ i.idEmpleado?.apellido }}</td>
                    <td>{{ i.idFichaClinica?.idCliente?.nombre }} {{ i.idFichaClinica?.idCliente?.apellido }}</td>
                    <td class="hide-on-small-and-down">{{ i.idFichaClinica?.idTipoProducto?.idCategoria?.descripcion }}</td>
                    <td class="hide-on-small-and-down">{{ i.idFichaClinica?.idTipoProducto?.descripcion }}</td>
                    <td>
                        <a [routerLink]="['/servicio/edit', i.idPresentacionProducto]" title="Editar"><i
                                class="material-icons" style="color:#FFC107">mode_edit</i></a>
                        <a href='#modal_delete' (click)="saveDeleteRecord(i.idPresentacionProducto, j)" title="Eliminar" class="modal-trigger"><i class="material-icons"
                                style="color:#F44336">delete</i></a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
  </section>

</div>
